(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[753],{7892:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blending-modes",function(){return r(690)}])},690:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return v}});var n=r(5893),t=r(7294),l=r(7689),c=r.n(l),i="#define GLSLIFY 1\nattribute vec3 coordinates;\nuniform vec4 translation;\n\nvoid main(void) {\n    gl_Position = vec4(coordinates, 1) + translation;\n}",s="precision mediump float;\n#define GLSLIFY 1\nuniform vec4 u_fragColor;\n\nvoid main(void) {\n    gl_FragColor = u_fragColor;\n\n    // The line below is essentially what enables the alpha blending.\n    gl_FragColor.rgb *= u_fragColor.a;\n}";function o(e){return function(e){if(Array.isArray(e)){for(var a=0,r=new Array(e.length);a<e.length;a++)r[a]=e[a];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=200,u=200;function f(e,a){var r=e.getContext("2d");r&&(e.width=d,e.height=u,r.save(),r.fillStyle=a[0],r.fillRect(50,20,100,100),r.restore(),r.save(),r.fillStyle=a[1],r.fillRect(80,50,100,100),r.restore(),r.save(),r.fillStyle=a[2],r.fillRect(20,80,100,100),r.restore())}function h(e,a){var r=function(e,a,r,n){var t,c,i=e.getUniformLocation(a,"u_fragColor");(t=e).uniform4f.apply(t,[i].concat(o(n)));var s=e.getUniformLocation(a,"translation");(c=e).uniform4f.apply(c,[s].concat(o(r))),e.drawElements(e.TRIANGLES,l.length,e.UNSIGNED_SHORT,0)};console.log(a.premultipliedAlpha);var n=e.getContext("webgl",{premultipliedAlpha:a.premultipliedAlpha});if(n){e.width=d,e.height=u;var t=[-.5,.5,0,-.5,-.5,0,.5,-.5,0,.5,.5,0],l=[3,2,1,3,1,0],c=function(r){r[a.blend?"enable":"disable"](r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r[a.depthTest?"enable":"disable"](r.DEPTH_TEST);var n=r.createShader(r.VERTEX_SHADER);r.shaderSource(n,i),r.compileShader(n);var c=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(c,s),r.compileShader(c);var o=r.createProgram();r.attachShader(o,c),r.attachShader(o,n),r.linkProgram(o),r.useProgram(o),r.bindBuffer(r.ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),r.STATIC_DRAW);var d=r.getAttribLocation(o,"coordinates");return r.vertexAttribPointer(d,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(d),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.viewport(0,0,e.width,e.height),o}(n);r(n,c,[0,.25,0,0],a.colors[0]),r(n,c,[.25,0,0,0],a.colors[1]),r(n,c,[-.25,-.25,0,0],a.colors[2])}}var v=function(){var e=(0,t.useRef)(null),a=(0,t.useRef)(null),r=(0,t.useRef)(null),l=(0,t.useRef)(null),v=(0,t.useRef)(null),p=(0,t.useRef)(null),_=(0,t.useRef)(null),A=(0,t.useRef)(null),m=(0,t.useState)(!0),b=m[0],R=m[1],F=(0,t.useState)(!0),g=F[0],E=F[1],S=(0,t.useState)(!1),N=S[0],T=S[1],x="".concat(b,"|").concat(g,"|").concat(N),y=(0,t.useCallback)((function(){R(!b)}),[b]),C=(0,t.useCallback)((function(){E(!g)}),[g]),j=(0,t.useCallback)((function(){T(!N)}),[N]);return(0,t.useEffect)((function(){e.current&&f(e.current,["#FF000080","#00FF0080","#0000FF80"]),a.current&&f(a.current,["#00FF0080","#0000FF80","#FF000080"]),r.current&&f(r.current,["#0000FF80","#FF000080","#00FF0080"]),l.current&&h(l.current,{premultipliedAlpha:b,blend:g,depthTest:N,colors:[[1,0,0,.5],[0,1,0,.5],[0,0,1,.5]]}),v.current&&h(v.current,{premultipliedAlpha:b,blend:g,depthTest:N,colors:[[0,1,0,.5],[0,0,1,.5],[1,0,0,.5]]}),p.current&&h(p.current,{premultipliedAlpha:b,blend:g,depthTest:N,colors:[[0,0,1,.5],[1,0,0,.5],[0,1,0,.5]]}),A.current&&function(e,a){var r=function(e,a,r,n){var t,c,i=e.getUniformLocation(a,"u_fragColor");(t=e).uniform4f.apply(t,[i].concat(o(n)));var s=e.getUniformLocation(a,"translation");(c=e).uniform4f.apply(c,[s].concat(o(r))),e.drawElements(e.TRIANGLES,l.length,e.UNSIGNED_SHORT,0)};console.log(a.premultipliedAlpha);var n=e.getContext("webgl",{premultipliedAlpha:a.premultipliedAlpha});if(n){e.width=d,e.height=u;var t=[-.5,.5,0,-.5,-.5,0,.5,-.5,0,.5,.5,0],l=[3,2,1,3,1,0],c=function(r){r[a.blend?"enable":"disable"](r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r[a.depthTest?"enable":"disable"](r.DEPTH_TEST);var n=r.createShader(r.VERTEX_SHADER);r.shaderSource(n,i),r.compileShader(n);var c=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(c,s),r.compileShader(c);var o=r.createProgram();r.attachShader(o,c),r.attachShader(o,n),r.linkProgram(o),r.useProgram(o),r.bindBuffer(r.ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(l),r.STATIC_DRAW);var d=r.getAttribLocation(o,"coordinates");return r.vertexAttribPointer(d,3,r.FLOAT,!1,0,0),r.enableVertexAttribArray(d),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.viewport(0,0,e.width,e.height),o}(n);r(n,c,[-.15,-.35,-.3,0],a.colors[3]),r(n,c,[0,.25,0,0],a.colors[0]),r(n,c,[.25,0,-.1,0],a.colors[1]),r(n,c,[-.25,-.25,-.2,0],a.colors[2])}}(A.current,{premultipliedAlpha:b,blend:g,depthTest:N,colors:[[0,0,1,.8],[1,0,0,.5],[0,1,0,.5],[1,0,0,1]]}),_.current&&function(e,a){var r=e.getContext("2d");r&&(e.width=d,e.height=u,r.save(),r.fillStyle=a[0],r.fillRect(50,20,100,100),r.restore(),r.save(),r.fillStyle=a[1],r.fillRect(80,50,100,100),r.restore(),r.save(),r.fillStyle=a[2],r.fillRect(20,80,100,100),r.restore(),r.save(),r.fillStyle=a[3],r.fillRect(30,90,100,100),r.restore())}(_.current,["#0000FFff","#FF000080","#00FF0080","#ff0000ff"])}),[b,g,N]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:c().title,children:"Canvas 2D Blending (50% opacity)"}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:e,className:c().canvas})}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:a,className:c().canvas})}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:r,className:c().canvas})}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:_,className:c().canvas},"canvas-7-".concat(x))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:c().title,children:"Canvas WebGL Blending"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:c().option,children:[(0,n.jsx)("input",{type:"checkbox",onClick:y,defaultChecked:b}),"Premultiplied Alpha"]}),(0,n.jsxs)("label",{className:c().option,children:[(0,n.jsx)("input",{type:"checkbox",onClick:C,defaultChecked:g}),"Blend"]}),(0,n.jsxs)("label",{className:c().option,children:[(0,n.jsx)("input",{type:"checkbox",onClick:j,defaultChecked:N}),"Depth Test"]})]}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:l,className:c().canvas},"canvas-4-".concat(x))}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:v,className:c().canvas},"canvas-5-".concat(x))}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:p,className:c().canvas},"canvas-6-".concat(x))}),(0,n.jsx)("div",{className:c().card,children:(0,n.jsx)("canvas",{ref:A,className:c().canvas},"canvas-8-".concat(x))})]})]})}},7689:function(e){e.exports={title:"blending_page_style_title__m2eI9",card:"blending_page_style_card__IdbxP",canvas:"blending_page_style_canvas__XTfmI",option:"blending_page_style_option__kcSyP"}}},function(e){e.O(0,[774,888,179],(function(){return a=7892,e(e.s=a);var a}));var a=e.O();_N_E=a}]);
//# sourceMappingURL=blending-modes-977768f5bbb588e2.js.map